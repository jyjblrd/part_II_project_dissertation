% imports
\usepackage[usenames,dvipsnames]{xcolor}
\usepackage[pdfborder={0 0 0}]{hyperref}  % turns references into hyperlinks
\usepackage{graphicx}  % allows inclusion of PDF, PNG and JPG images
\usepackage{fancyhdr}  % for tweaking the running header/footer lines
\usepackage{amsfonts}
\usepackage{amsmath, amssymb}
\usepackage[utf8]{inputenc}
\usepackage{titlesec}
\usepackage{algorithm}
\usepackage[noend]{algpseudocode}
\usepackage{bm}
\usepackage{tikz}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{layouts}
\usepackage{multirow}
\usepackage[export]{adjustbox}
\usepackage{dirtree}
\usepackage{bold-extra}
\usepackage{setspace}
\usepackage{framed}
\usepackage{cleveref}
\usepackage{pdfpages}
\usepackage{tocloft}

% table of contents
\setlength\cftparskip{0.1em}
\setlength\cftbeforechapskip{0.7em}

\let\subsectionautorefname\sectionautorefname
\let\subsubsectionautorefname\sectionautorefname


\renewenvironment{leftbar}[1][\hsize]
{%
    \def\FrameCommand
    {%
        {\color{black}\vrule width 3pt}%
        \hspace{0pt}%must no space.
        \fboxsep=\FrameSep\colorbox{white}%
    }%
    \MakeFramed{\hsize#1\advance\hsize-\width\FrameRestore}%
}
{\endMakeFramed}

% code highlighting
\usepackage{minted}

\usepackage{enumitem}

% page layout
\usepackage[margin=2cm]{geometry}
\setlength{\parindent}{0pt}
\setlength{\parskip}{\bigskipamount}
\let\svpar\par
\edef\svparskip{\the\parskip}
\def\revertpar{\svpar\setlength\parskip{\svparskip}\let\par\svpar}
\def\noparskip{\leavevmode\setlength\parskip{0pt}%
    \def\par{\svpar\let\par\revertpar}}
% \renewcommand{\baselinestretch}{1.1}
\newcommand{\figmacrop}{5cm 5cm 5cm 5cm}

% title spacing
\titleformat{\chapter}[display]
{\normalfont\huge\bfseries}{\chaptertitlename\ \thechapter}{20pt}{\Huge}

\titlespacing\chapter{0pt}{-20pt plus 4pt minus 2pt}{-4pt plus 2pt minus 2pt}
\titlespacing\section{0pt}{6pt plus 4pt minus 2pt}{-4pt plus 2pt minus 2pt}
\titlespacing\subsection{0pt}{6pt plus 4pt minus 2pt}{-4pt plus 2pt minus 2pt}
\titlespacing\subsubsection{0pt}{6pt plus 4pt minus 2pt}{-4pt plus 2pt minus 2pt}

% don't let large figures hijack entire pages
\renewcommand\topfraction{.9}
\renewcommand\textfraction{.1}
\renewcommand\floatpagefraction{.8}

% get rid of empty pages
\renewcommand{\cleardoublepage}{\clearpage}

\raggedbottom
\sloppy
\clubpenalty1000%
\widowpenalty1000%

\newcommand{\algorithmautorefname}{Algorithm}


\algrenewcommand\algorithmicrequire{\textbf{Input:}}
\algrenewcommand\algorithmicensure{\textbf{Output:}}


\captionsetup{format=hang, font=small, labelfont=bf}


\newcommand{\captionbreak}{\\[0.4em]}

\newcommand{\comment}[1]{\textcolor{red}{#1}}

\crefformat{section}{\S#2#1#3}
\crefformat{subsection}{\S#2#1#3}
\crefformat{subsubsection}{\S#2#1#3}